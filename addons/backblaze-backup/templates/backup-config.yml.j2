---
# Backblaze B2 Backup Configuration
# Generated by Ansible

# Backup settings
backup:
  enabled: {{ backup_enabled | lower }}
  bucket: "{{ backup_b2_bucket }}"
  retention_days: {{ backup_retention_days }}
  encrypt: {{ backup_encrypt | lower }}
  compression: {{ backup_compression | lower }}
  
# Paths to backup
paths:
{% for path in backup_paths %}
  - "{{ path }}"
{% endfor %}

# Exclude patterns
exclude_patterns:
{% for pattern in backup_exclude_patterns %}
  - "{{ pattern }}"
{% endfor %}

# rclone settings
rclone:
  remote_name: "{{ rclone_config_name }}"
  bucket_name: "{{ rclone_remote_name }}"
  config_file: "{{ rclone_config_file }}"

# System paths
staging_path: "{{ backup_staging_path }}"
log_path: "{{ backup_log_path }}"
config_path: "{{ backup_config_path }}"

# Snapshots
snapshots:
  enabled: {{ backup_use_snapshots | lower }}
  prefix: "{{ backup_snapshot_prefix }}"
  config_path: "{{ snapshot_config_path }}"

# Schedule
schedule:
  type: "{{ backup_schedule }}"
  daily: "{{ backup_daily_schedule }}"
  weekly: "{{ backup_weekly_schedule }}"
  monthly: "{{ backup_monthly_schedule }}"

# Monitoring
monitoring:
  enabled: true
  check_interval: "6h"
  alert_threshold: 3  # Number of failed backups before alerting
