import { QuartzConfig } from "./quartz/cfg"

const config: QuartzConfig = {
  configuration: {
    pageTitle: "{{ obsidian_site_title | default('Obsidian Vault') }}",
    enableSPA: true,
    enableFreshRSS: true,
    baseUrl: "{{ obsidian_url_prefix | default('/wiki') }}",
    ignorePatterns: [
      "private/**/*",
      "drafts/**/*",
      "*.tmp",
      "*.bak",
      ".obsidian/**/*",
      ".git/**/*"
    ],
    theme: {
      fontOrigin: "googleFonts",
      cdnCdnUrl: "https://giscus.app/client.js",
      typography: {
        header: "Schibsted Grotesk",
        body: "Inter",
        code: "JetBrains Mono"
      },
      colors: {
        light: {
          light: "#faf8f5",
          lightgray: "#e5e5e5",
          gray: "#b8b8b8",
          darkgray: "#5e5e5e",
          dark: "#2c3e50",
          secondary: "#28a745",
          tertiary: "#17a2b8",
          highlight: "rgba(143, 157, 193, 0.15)"
        },
        dark: {
          light: "#1f1f1f",
          lightgray: "#2b2b2b",
          gray: "#8a8a8a",
          darkgray: "#b4b4b4",
          dark: "#e4e4e4",
          secondary: "#6bc66a",
          tertiary: "#6ac7d9",
          highlight: "rgba(143, 157, 193, 0.15)"
        }
      }
    },
    plugins: {
      search: {
        enable: {{ obsidian_enable_search | lower }}
      },
      gitSync: {
        enable: false
      },
      tableOfContents: {
        enable: true,
        maxDepth: 3
      },
      cta: {
        enable: false
      },
      description: {
        enable: true
      },
      heroTitle: {
        enable: true,
        title: "{{ obsidian_site_title | default('Obsidian Vault') }}",
        subtitle: "Personal knowledge base"
      },
      recentNotes: {
        enable: true,
        title: "Recent Notes",
        limit: 5
      },
      lastModified: {
        enable: true
      },
      backlinks: {
        enable: true
      },
      graph: {
        enable: true,
        enableDrag: true,
        enableZoom: true,
        localGraph: {
          enable: true,
          drag: true,
          zoom: true,
          depth: 1,
          scale: 1,
          repelForce: 5,
          centerForce: 0.1,
          linkDistance: 30,
          fontSize: 0.6,
          opacityScale: 1
        },
        globalGraph: {
          enable: true,
          drag: true,
          zoom: true,
          depth: -1,
          scale: 1,
          repelForce: 5,
          centerForce: 0.1,
          linkDistance: 30,
          fontSize: 0.6,
          opacityScale: 1
        }
      },
      contentMeta: {
        enable: true
      },
      pageList: {
        enable: true
      },
      folderList: {
        enable: true
      },
      tagList: {
        enable: true
      },
      explorer: {
        enable: true,
        title: "Explorer",
        folderDefaultState: "collapsed",
        folderClickBehavior: "collapse",
        useExistingFileCache: true,
        filterOn: {
          tag: "",
          folder: "",
          showHidden: false,
          showOnlyInObsidianFolder: false,
          sort: {
            by: "created",
            order: "desc"
          }
        },
        mapFn: (node) => {
          return {
            ...node,
            title: node.frontmatter?.title ?? node.name,
            tag: node.frontmatter?.tags ?? [],
            filter: node.frontmatter?.filter ?? []
          }
        }
      },
      latex: {
        enable: true
      },
      syntaxHighlighter: {
        enable: true,
        theme: "github-dark",
        keepBackground: false
      },
      mermaid: {
        enable: true
      },
      callouts: {
        enable: true
      },
      spotify: {
        enable: false
      },
      github: {
        enable: false
      },
      rss: {
        enable: true,
        siteUrl: "{{ obsidian_url_prefix | default('/wiki') }}",
        title: "{{ obsidian_site_title | default('Obsidian Vault') }}",
        description: "{{ obsidian_site_description | default('Personal knowledge base') }}",
        pubDate: new Date(),
        itemCount: 10
      }
    }
  },
  indexHtml: "index.html",
  emitCss: true,
  staticResources: {
    css: ["/custom.css"],
    js: []
  }
}

export default config
