// Syncthing ignore patterns for the Obsidian vault
// Deployed by Ansible (obsidian-web addon) to: {{ obsidian_vault_path }}/.stignore
//
// These patterns prevent Syncthing from creating conflicts on files that change
// independently on each device (workspace state, OS noise, editor temp files).
//
// IMPORTANT: plugins and their settings (.obsidian/plugins/, .obsidian/app.json,
// etc.) are intentionally NOT ignored so they sync between devices.

// ── Obsidian workspace state ──────────────────────────────────────────────────
// These files track the open tabs / panel layout per device and differ between
// desktop and mobile — syncing them causes constant conflict files.
.obsidian/workspace
.obsidian/workspace.json
.obsidian/workspace-mobile.json
.obsidian/workspaces.json

// ── Obsidian internal directories ─────────────────────────────────────────────
// .trash — Obsidian's recycle bin; device-local, not meaningful to sync
// .vault-stats — Obsidian analytics/usage tracking; device-local
.trash
.vault-stats

// ── Syncthing internal directories ────────────────────────────────────────────
// These are created by Syncthing itself and must never sync to other devices.
// .stfolder — marker file Syncthing uses to detect the folder root
// .stversions — local version history (each device keeps its own)
.stfolder
.stversions

// ── Syncthing conflict copies ─────────────────────────────────────────────────
// Already-created conflict files from before this ignore pattern was in place.
// Keeping this prevents new conflicts from syncing back as real content.
*.sync-conflict-*

// ── OS-generated noise ────────────────────────────────────────────────────────
// (?d) prefix: delete the file on the receiving device if the sender doesn't
// have it. This cleans up stray macOS/Windows metadata files on the Linux server.
(?d).DS_Store
(?d)Thumbs.db
(?d)desktop.ini
(?d)ehthumbs.db

// ── Editor and tool temp files ────────────────────────────────────────────────
*.tmp
*.bak
*~
.~lock.*
